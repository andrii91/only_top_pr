!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t,a=navigator.userAgent,n=/iphone/i.test(a),i=/chrome/i.test(a),o=/android/i.test(a);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var a;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(a=this.createTextRange(),a.collapse(!0),a.moveEnd("character",t),a.moveStart("character",e),a.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),e=0-a.duplicate().moveStart("character",-1e5),t=e+a.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(a,s){var r,l,c,d,f,m,h,u;if(!a&&this.length>0){r=e(this[0]);var v=r.data(e.mask.dataName);return v?v():void 0}return s=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},s),l=e.mask.definitions,c=[],d=h=a.length,f=null,e.each(a.split(""),function(e,t){"?"==t?(h--,d=e):l[t]?(c.push(new RegExp(l[t])),null===f&&(f=c.length-1),d>e&&(m=c.length-1)):c.push(null)}),this.trigger("unmask").each(function(){function r(){if(s.completed){for(var e=f;m>=e;e++)if(c[e]&&z[e]===v(e))return;s.completed.call(R)}}function v(e){return s.placeholder.charAt(e<s.placeholder.length?e:0)}function p(e){for(;++e<h&&!c[e];);return e}function g(e){for(;--e>=0&&!c[e];);return e}function b(e,t){var a,n;if(!(0>e)){for(a=e,n=p(t);h>a;a++)if(c[a]){if(!(h>n&&c[a].test(z[n])))break;z[a]=z[n],z[n]=v(n),n=p(n)}y(),R.caret(Math.max(f,e))}}function k(e){var t,a,n,i;for(t=e,a=v(e);h>t;t++)if(c[t]){if(n=p(t),i=z[t],z[t]=a,!(h>n&&c[n].test(i)))break;a=i}}function w(){var e=R.val(),t=R.caret();if(u&&u.length&&u.length>e.length){for(x(!0);t.begin>0&&!c[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<f&&!c[t.begin];)t.begin++;R.caret(t.begin,t.begin)}else{for(x(!0);t.begin<h&&!c[t.begin];)t.begin++;R.caret(t.begin,t.begin)}r()}function A(){x(),R.val()!=F&&R.change()}function T(e){if(!R.prop("readonly")){var t,a,i,o=e.which||e.keyCode;u=R.val(),8===o||46===o||n&&127===o?(t=R.caret(),a=t.begin,i=t.end,i-a===0&&(a=46!==o?g(a):i=p(a-1),i=46===o?p(i):i),C(a,i),b(a,i-1),e.preventDefault()):13===o?A.call(this,e):27===o&&(R.val(F),R.caret(0,x()),e.preventDefault())}}function $(t){if(!R.prop("readonly")){var a,n,i,s=t.which||t.keyCode,l=R.caret();if(!(t.ctrlKey||t.altKey||t.metaKey||32>s)&&s&&13!==s){if(l.end-l.begin!==0&&(C(l.begin,l.end),b(l.begin,l.end-1)),a=p(l.begin-1),h>a&&(n=String.fromCharCode(s),c[a].test(n))){if(k(a),z[a]=n,y(),i=p(a),o){var d=function(){e.proxy(e.fn.caret,R,i)()};setTimeout(d,0)}else R.caret(i);l.begin<=m&&r()}t.preventDefault()}}}function C(e,t){var a;for(a=e;t>a&&h>a;a++)c[a]&&(z[a]=v(a))}function y(){R.val(z.join(""))}function x(e){var t,a,n,i=R.val(),o=-1;for(t=0,n=0;h>t;t++)if(c[t]){for(z[t]=v(t);n++<i.length;)if(a=i.charAt(n-1),c[t].test(a)){z[t]=a,o=t;break}if(n>i.length){C(t+1,h);break}}else z[t]===i.charAt(n)&&n++,d>t&&(o=t);return e?y():d>o+1?s.autoclear||z.join("")===_?(R.val()&&R.val(""),C(0,h)):y():(y(),R.val(R.val().substring(0,o+1))),d?t:f}var R=e(this),z=e.map(a.split(""),function(e,t){return"?"!=e?l[e]?v(t):e:void 0}),_=z.join(""),F=R.val();R.data(e.mask.dataName,function(){return e.map(z,function(e,t){return c[t]&&e!=v(t)?e:null}).join("")}),R.one("unmask",function(){R.off(".mask").removeData(e.mask.dataName)}).on("focus.mask",function(){if(!R.prop("readonly")){clearTimeout(t);var e;F=R.val(),e=x(),t=setTimeout(function(){R.get(0)===document.activeElement&&(y(),e==a.replace("?","").length?R.caret(0,e):R.caret(e))},10)}}).on("blur.mask",A).on("keydown.mask",T).on("keypress.mask",$).on("input.mask paste.mask",function(){R.prop("readonly")||setTimeout(function(){var e=x(!0);R.caret(e),r()},0)}),i&&o&&R.off("input.mask").on("input.mask",w),x()})}})}),!function(e){e.fn.viewportChecker=function(t){var a={classToAdd:"visible",classToRemove:"invisible",classToAddForFullView:"full-visible",removeClassAfterAnimation:!1,offset:100,repeat:!1,invertBottomOffset:!0,callbackFunction:function(e,t){},scrollHorizontal:!1,scrollBox:window};e.extend(a,t);var n=this,i={height:e(a.scrollBox).height(),width:e(a.scrollBox).width()};return this.checkElements=function(){var t,o;a.scrollHorizontal?(t=Math.max(e("html").scrollLeft(),e("body").scrollLeft(),e(window).scrollLeft()),o=t+i.width):(t=Math.max(e("html").scrollTop(),e("body").scrollTop(),e(window).scrollTop()),o=t+i.height),n.each(function(){var n=e(this),s={},r={};if(n.data("vp-add-class")&&(r.classToAdd=n.data("vp-add-class")),n.data("vp-remove-class")&&(r.classToRemove=n.data("vp-remove-class")),n.data("vp-add-class-full-view")&&(r.classToAddForFullView=n.data("vp-add-class-full-view")),n.data("vp-keep-add-class")&&(r.removeClassAfterAnimation=n.data("vp-remove-after-animation")),n.data("vp-offset")&&(r.offset=n.data("vp-offset")),n.data("vp-repeat")&&(r.repeat=n.data("vp-repeat")),n.data("vp-scrollHorizontal")&&(r.scrollHorizontal=n.data("vp-scrollHorizontal")),n.data("vp-invertBottomOffset")&&(r.scrollHorizontal=n.data("vp-invertBottomOffset")),e.extend(s,a),e.extend(s,r),!n.data("vp-animated")||s.repeat){String(s.offset).indexOf("%")>0&&(s.offset=parseInt(s.offset)/100*i.height);var l=s.scrollHorizontal?n.offset().left:n.offset().top,c=s.scrollHorizontal?l+n.width():l+n.height(),d=Math.round(l)+s.offset,f=s.scrollHorizontal?d+n.width():d+n.height();s.invertBottomOffset&&(f-=2*s.offset),d<o&&f>t?(n.removeClass(s.classToRemove),n.addClass(s.classToAdd),s.callbackFunction(n,"add"),c<=o&&l>=t?n.addClass(s.classToAddForFullView):n.removeClass(s.classToAddForFullView),n.data("vp-animated",!0),s.removeClassAfterAnimation&&n.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){n.removeClass(s.classToAdd)})):n.hasClass(s.classToAdd)&&s.repeat&&(n.removeClass(s.classToAdd+" "+s.classToAddForFullView),s.callbackFunction(n,"remove"),n.data("vp-animated",!1))}})},("ontouchstart"in window||"onmsgesturechange"in window)&&e(document).bind("touchmove MSPointerMove pointermove",this.checkElements),e(a.scrollBox).bind("load scroll",this.checkElements),e(window).resize(function(t){i={height:e(a.scrollBox).height(),width:e(a.scrollBox).width()},n.checkElements()}),this.checkElements(),this}}(jQuery),$(document).ready(function(){$(".video-fixed img").click(function(){var e=$(this).parent().data("url")+"?autoplay=1&autohide=1&rel=0&amp;showinfo=0";$(this).hide(),$(this).parent().append('<iframe src="'+e+'"  width="712" height="400" frameborder="0"></iframe>')}),$(".programs-item").click(function(){$(this).toggleClass("active"),$(this).find(".more").slideToggle(300)}),$('input[name="utm"]').val(window.location.hostname+"/"+window.location.search),$(".packages-btn").click(function(){$("#course").val($(this).parent().find("h4").text()),$(".token").val($(this).data("token"))}),$(".partner-box .order-btn").click(function(){$("#course").val($(this).text())}),$("form").on("submit",function(e){e.preventDefault();var t=$(this);t.find('input[name="custom_phone"]').val($(this).find('input[name="phone"]').val());var a=t.find("input, textarea, select");$(".submit").addClass("inactive"),$(".submit").prop("disabled",!0),$.ajax({type:"POST",url:"crm/registration.php",dataType:"json",data:t.serialize(),success:function(e){"success"==e.status}}),$.ajax({type:"POST",url:"https://app.getresponse.com/add_subscriber.html",data:a,error:function(e){console.log(e)}}),setTimeout(function(){window.location.href="success.html"},1e3)}),$("input[type='tel']").mask("+389999999999"),$(".packages-btn, .footer-list li a").magnificPopup({type:"inline"}),$(".order-btn").click(function(e){e.preventDefault();var t=$(".packages").offset().top;$("body,html").animate({scrollTop:t},1e3)}),$(window).width()>1200&&($(".fade").addClass("hidden_animation").viewportChecker({classToAdd:"visible animated fadeIn",offset:"0%",classToRemove:"hidden_animation",removeClassAfterAnimation:!0}),$(".down").addClass("hidden_animation").viewportChecker({classToAdd:"visible animated fadeInDown",offset:"0%",classToRemove:"hidden_animation",removeClassAfterAnimation:!0}),$(".left, .programs-item").addClass("hidden_animation").viewportChecker({classToAdd:"visible animated fadeInLeft",offset:"0%",classToRemove:"hidden_animation",removeClassAfterAnimation:!0}),$(".right").addClass("hidden_animation").viewportChecker({classToAdd:"visible animated fadeInRight",offset:"0%",classToRemove:"hidden_animation",removeClassAfterAnimation:!0}),$(".up").addClass("hidden_animation").viewportChecker({classToAdd:"visible animated fadeInUp",offset:"10%",classToRemove:"hidden_animation",removeClassAfterAnimation:!0}),$(".zIn, .title").addClass("hidden_animation").viewportChecker({classToAdd:"visible animated zoomIn",offset:"10%",classToRemove:"hidden_animation",removeClassAfterAnimation:!0}))});